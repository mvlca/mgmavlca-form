(()=>{document.getElementById("vlcaForm").addEventListener("submit",function(t){t.preventDefault();let e=document.getElementById("formSubmitButton"),n=e.innerHTML;e.innerHTML="Please, wait...",e.classList.add("disabled"),e.disabled=!0,document.getElementById("FName").innerHTML=document.querySelector('input[name="entry.1917969894"]').value,document.getElementById("COwner").innerHTML=document.querySelector('input[name="entry.1757697605"]').value,document.getElementById("FAddress").innerHTML=document.querySelector('input[name="entry.1821603962"]').value,document.getElementById("FWorkers").innerHTML=document.querySelector('input[name="entry.2041901163"]').value,document.getElementById("PName").innerHTML=document.querySelector('input[name="entry.132345334"]').value,document.getElementById("PPosition").innerHTML=document.querySelector('select[name="entry.1472976476"]').value,document.getElementById("PPhone").innerHTML=document.querySelector('input[name="entry.958304283"]').value,document.getElementById("PEmail").innerHTML=document.querySelector('input[name="entry.934457129"]').value,document.getElementById("ECyn").innerHTML=document.querySelector('input[name="entry.1886477039"]:checked').value,document.getElementById("MWyn").innerHTML=document.querySelector('input[name="entry.1666474331"]:checked').value,document.getElementById("WHyn").innerHTML=document.querySelector('input[name="entry.795624906"]:checked').value,document.getElementById("LHyn").innerHTML=document.querySelector('input[name="entry.1930996461"]:checked').value;let o=document.querySelectorAll('input[name="entry.1337884755"]:checked');if(o.length===0){alert("Oops! Please select at least one of Certificate or any you have.");return}document.getElementById("CERTIy").innerHTML=Array.from(o).map(r=>r.value),document.getElementById("OSHr").innerHTML=document.querySelector('input[name="entry.350571800"]:checked').value,document.getElementById("CHILDyn").innerHTML=document.querySelector('input[name="entry.677934120"]:checked').value,document.getElementById("FORCEDyn").innerHTML=document.querySelector('input[name="entry.587878512"]:checked').value,document.getElementById("DISCRIyn").innerHTML=document.querySelector('input[name="entry.236185030"]:checked').value,document.getElementById("HARASSyn").innerHTML=document.querySelector('input[name="entry.1472844120"]:checked').value,document.getElementById("WCCyn").innerHTML=document.querySelector('input[name="entry.1445781650"]:checked').value,document.getElementById("FOAyn").innerHTML=document.querySelector('input[name="entry.2064883437"]:checked').value,document.getElementById("UNDERTy").innerHTML=document.querySelector('input[name="entry.1160853913"]').value;let d=document.querySelector('input[name="entry.71647187"]').value;if(String(d).trim()!==String(u).trim()){alert("Oops! Your signature key does not match. Please generate it again and, copy and paste it correctly.");return}document.getElementById("signedSigKey").innerHTML=d,document.getElementById("signedName").innerHTML=document.querySelector('input[name="entry.132345334"]').value,document.getElementById("signedPosition").innerHTML=document.querySelector('select[name="entry.1472976476"]').value,document.getElementById("TStamp").innerHTML=new Date,fetch(t.target.action,{method:"POST",body:new FormData(t.target),mode:"no-cors"}).then(()=>{document.getElementById("googleFormUpdated").style.display="block"}).catch(r=>{alert("There was an error of updating Google Form.")}),setTimeout(()=>{document.getElementById("afterFormSubmit").style.display="block",document.getElementById("formContainer").style.display="none",window.scrollTo({top:0,left:0}),e.innerHTML=n,e.disabled=!1,e.classList.remove("disabled")},1e3)});document.addEventListener("click",function(t){let{id:e}=t.target,n={generateSigKey:l,downloadPDF:a,printSaveAsPDF:y,windowPrint:s,goToPrevious:g};n[e]&&n[e]()});var u="";function l(){let t=Math.floor(Math.random()*1e6).toString().padStart(6,0),e=new Date,n=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,0),d=e.getDate().toString().padStart(2,0),r=e.getHours().toString().padStart(2,0),c=e.getMinutes().toString().padStart(2,0),i=e.getSeconds().toString().padStart(2,0),m=`${n}${o}${d}${r}${c}${i}`;u=`this-NUM:${t}-may-represent-my-signature-on-TS:${m}`,document.getElementById("genSigKey").innerHTML=u}function a(){let t=document.getElementById("downloadPrintArea"),e=t.style.width;window.innerWidth<=750&&(t.style.width="900px");let{jsPDF:n}=window.jspdf;html2canvas(t,{scale:2}).then(o=>{let d=o.toDataURL("image/png"),r=new n("p","mm","a4"),c=190,i=o.height*c/o.width;r.addImage(d,"PNG",10,10,c,i),r.save("mgma-vlca-submission.pdf")}),e?t.style.width=e:t.style.width=""}function y(){document.querySelector("header").style.display="none",document.querySelector("footer").style.display="none",document.getElementById("printHide").style.display="none",document.getElementById("googleFormUpdated").style.display="none",document.getElementById("printGoBackLine").style.display="block",window.print()}function s(){window.print()}function g(){document.getElementById("printGoBackLine").style.display="none",document.getElementById("printHide").style.display="block",document.querySelector("header").style.display="block",document.querySelector("footer").style.display="block"}})();
